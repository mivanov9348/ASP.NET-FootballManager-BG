@model InboxViewModel
<partial name="~/Views/Shared/_SideBar.cshtml" />

<style>

    body {
        background-color: black;
    }

    .Inbox {
        margin-top: 60px;
        margin-left: 180px;
        border-radius: 10px 10px 10px 10px;
        border: 3px solid white;
        background-color: rgb(28, 28, 28);
        height: auto;
        width: 400px;
        color: white;
    }

    .news {
        font-family: 'OLD SPORT 02 ATHLETIC NCV';
        text-align: center;
        height: 90px;
        width: 350px;
        margin-left: 20px;
    }

        .news:hover {
            box-shadow: 0px 0px 10px white;
        }

    .title {
        margin-left: 160px;
        font-size: 30px;
        font-family: fantasy;
    }

    a {
        text-decoration: none;
    }

    .FullNews {
        position: absolute;
        margin-top: 70px;
        top: 50px;
        margin-left: 590px;
        border-radius: 10px 10px 10px 10px;
        border: 3px solid white;
        background-color: rgb(28, 28, 28);
        height: auto;
        width: 600px;
        text-align: center;
        font-size: 20px;
        font-weight: bolder;
    }

</style>

<body>
    <div class="row" style="font-size:100px">
        <div class="col-12">
            <ul id="serverDate" style="color:red"></ul>
        </div>
    </div>
    <label style="font-weight:bolder;color:red;font-size:20px;margin-left:600px">Year: @Model.Year Day:@Model.Day</label>
    <hr style="color:red" />
    <p id="demo"></p>
    <div class="Inbox">
        <label class="title">INBOX</label>
        <hr style="color:red;font-weight:bolder" />

        @foreach (var item in @Model.News)
        {
            <a asp-action="OpenNews" asp-route-id="@item.Id">
                <div class="news">
                    <p style="color:red">Year: @item.Year Day: @item.Day</p>
                    <p style="color:white;font-style:italic;font-size:15px">@item.MessageReview</p>
                </div>
                <hr style="font-weight:bolder;font-size:20px;color:green" />
            </a>
        }
    </div>

    <div class="FullNews">
        <p class="title" style="margin-left:-30px;color:white">MESSAGE</p>
        <img style="width:100px" src="~/Images/@Model.CurrentNews.NewsImage" />
        <hr style="color:red" />
        <p style="color:white;font-style:italic;">@Model.CurrentNews.FullMessage</p>
    </div>

</body>
<script src="~/js/signalr/dist/browser/signalr.js"></script>
<script src="~/js/signalr/dist/browser/signalr.min.js"></script>
<script>

       var connection = new signalR.HubConnectionBuilder().withUrl("/clockHub").build();

    connection.on("DisplayTime", function (time) {
        var li = document.createElement("li");
        li.textContent = time;
        document.getElementById("serverDate").appendChild(li);
    });

    connection.start().then(function () {

    }).catch(function (err) {
        return console.error(err.toString());
    });

    setInterval(function () {

        connection.invoke("DisplayTime").catch(function (err) {
            return console.error(err.toString());
        });

    }, 1000);

</script>