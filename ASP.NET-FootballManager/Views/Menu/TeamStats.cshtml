@using FootballManager.Core.Models.Team
@model TeamViewModel

<style>

    body {
        background-color: black;
        font-family: 'OLD SPORT 02 ATHLETIC NCV';
    }

    .TeamStats {
        width: 100%;
        text-align: center;
        color: white;
        margin-top: 50px;
        box-shadow: 0px 0px 10px white;
        border: 5px ridge white;
        font-size: 15px;
        margin-left: 70px;
    }

    table, th, td {
        border: 1px solid;
    }

    .players {
        text-align: center;
        margin-top: 30px;
        color: white;
        font-size: 20px;
        margin-left: 90px;
    }

        .players table {
            box-shadow: 0px 0px 10px white;
            border: 5px ridge white;
            width: 105%;
        }

        .players th {
            color: peru;
        }


    .playerStatsLink {
        text-decoration: none;
        color: white;
    }

        .playerStatsLink:hover {
            color: blue;
        }

    .attributes {
        color: red;
    }

</style>

@{
    var num = 0;
}

<partial name="~/Views/Shared/_SideBar.cshtml" />

<body>

    <div class="TeamStats">
        <h1 style="text-align:center;">@Model.CurrentTeam.Name</h1>
        <hr />
        <p> @Model.Team.Nation.Name</p>
        @if (@Model.Team.City != null)
        {
            <p> @Model.Team.City.Name</p>
        }
        <p> @Model.CurrentTeam.League.Name</p>
        <hr />
        <p>Titles: @Model.CurrentTeam.Titles</p>
        <p>Budget: @Model.CurrentTeam.Budget coins</p>
    </div>

    <div class="players">

        <table>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Pos</th>
                <th>Age</th>
                <th>Nat</th>
                <th>City</th>
                <th>Ono</th>
                <th>Ref</th>
                <th>Fin</th>
                <th>Pas</th>
                <th>Hea</th>
                <th>Tck</th>
                <th>Pos</th>
                <th>Pac</th>
                <th>Sta</th>
                <th>Str</th>
                <th>Drb</th>
                <th>Bcl</th>
                <th>OVR</th>
                <th>Goals</th>
                <th>Passes</th>
                <th>Clean Sheets</th>
            </tr>
            @foreach (var player in @Model.Players)
            {
                num++;
                var currentAttr = Model.Attributes.FirstOrDefault(x => x.PlayerId == player.Id);

                <tr>
                    <th scope="row">@num</th>
                    <td><a class="playerStatsLink" asp-action="PlayerDetails" asp-route-id="@player.Id">@player.FirstName @player.LastName</a></td>
                    <td>@player.Position.Abbr</td>
                    <td>@player.Age</td>
                    <td>@player.Nation.Abbr</td>
                    <td>@player.City.Name</td>
                    <td>@currentAttr.OneOnOne</td>
                    <td>@currentAttr.Reflexes</td>
                    <td>@currentAttr.Finishing</td>
                    <td>@currentAttr.Passing</td>
                    <td>@currentAttr.Heading</td>
                    <td>@currentAttr.Tackling</td>
                    <td>@currentAttr.Positioning</td>
                    <td>@currentAttr.Pace</td>
                    <td>@currentAttr.Stamina</td>
                    <td>@currentAttr.Strength</td>
                    <td>@currentAttr.Dribbling</td>
                    <td>@currentAttr.BallControll</td>
                    <td style="color:indianred">@player.Overall</td>
                    <td>@player.Goals</td>
                    <td>@player.Passes</td>
                    <td>@player.Passes</td>
                </tr>
            }
        </table>
    </div>

</body>