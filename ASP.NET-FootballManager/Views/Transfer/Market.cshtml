@using FootballManager.Core.Models.Player
@model TransferViewModel

<partial name="~/Views/Shared/_SideBar.cshtml" />

<style>

    body {
        background-color: black;
        font-family: 'High Tower Text'
    }

    .title {
        color: white;
        margin-top: 10px;
        margin-left: 400px;
        width: 700px;
        text-align: center;
    }

        .title label {
            font-size: 50px;
        }

    .FreeAgents {
        font-size: 30px;
        text-align: center;
        margin-top: -20px;
        margin-left: 60px;
        width: 1300px;
    }

    table, th, td {
        border: 1px solid;
    }

    .details {
        text-decoration: none;
        color: white;
    }

    .squadBtn {
        background-color: black;
        color: red;
        font-weight: bolder;
        border: 2px solid red;
        width: 200px;
    }

        .squadBtn:hover {
            box-shadow: 0px 0px 20px white;
        }


    .playerStatsLink {
        text-decoration: none;
        color: white;
    }

        .playerStatsLink:hover {
            color: blue;
        }

</style>

<form method="get">
    <body>

        <div class="title">
            <label>TRANSFER MARKET</label>
            <br />
            <input type="submit" class="squadBtn" asp-action="TeamSquad" value="Squad" />
            <p style="margin-top:5px;font-weight:bolder">Budget: @Model.CurrentTeam.Budget coins</p>
            <hr style="font-weight:bolder;margin-top:-12px" />
            <input type="submit" asp-action="SortPlayers" asp-route-id="0" value="All" />
            <input type="submit" asp-route-action="SortPlayers" asp-route-id="1" value="GK" />
            <input type="submit" asp-route-action="SortPlayers" asp-route-id="2" value="DF" />
            <input type="submit" asp-route-action="SortPlayers" asp-route-id="3" value="MF" />
            <input type="submit" asp-route-action="SortPlayers" asp-route-id="4" value="ST" />
            <input type="submit" asp-route-action="SortPlayers" asp-route-id="5" value="Att" />
            <input type="submit" asp-route-action="SortPlayers" asp-route-id="6" value="Def" />
            <input type="submit" asp-route-action="SortPlayers" asp-route-id="7" value="OVR" />
            <input type="submit" asp-route-action="SortPlayers" asp-route-id="8" value="Price" />
        </div>

        <div class="FreeAgents">
            <hr />
            <table class="table table-sm table-dark" style="font-size:20px;">
                <thead>

                    <tr>
                        <th scope="col">Pos</th>
                        <th scope="col">Name</th>
                        <th scope="col">Nat</th>
                        <th scope="col">Age</th>
                        <th scope="col">Ono</th>
                        <th scope="col">Ref</th>
                        <th scope="col">Fin</th>
                        <th scope="col">Pas</th>
                        <th scope="col">Hea</th>
                        <th scope="col">Tck</th>
                        <th scope="col">Pos</th>
                        <th scope="col">Pac</th>
                        <th scope="col">Sta</th>
                        <th scope="col">Str</th>
                        <th scope="col">Drb</th>
                        <th scope="col">Bcl</th>
                        <th scope="col">Ovr</th>
                        <th scope="col">Price</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var player in @Model.FreeAgents)
                    {
                        var currentAttr = Model.PlayerAttributes.FirstOrDefault(x => x.PlayerId == player.Id);
                        <tr>
                            <td>@player.Position.Abbr</td>
                            <td><a class="playerStatsLink" asp-action="PlayerDetails" asp-controller="Menu" asp-route-id="@player.Id">@player.FirstName @player.LastName</a></td>
                            <td>@player.Nation.Abbr</td>
                            <td>@player.Age</td>
                            <td>@currentAttr.OneOnOne</td>
                            <td>@currentAttr.Reflexes</td>
                            <td>@currentAttr.Finishing</td>
                            <td>@currentAttr.Passing</td>
                            <td>@currentAttr.Heading</td>
                            <td>@currentAttr.Tackling</td>
                            <td>@currentAttr.Positioning</td>
                            <td>@currentAttr.Pace</td>
                            <td>@currentAttr.Stamina</td>
                            <td>@currentAttr.Strength</td>
                            <td>@currentAttr.Dribbling</td>
                            <td>@currentAttr.BallControll</td>
                            <td>@player.Overall</td>
                            <td>@player.Price</td>
                            <td><input type="submit" value="Buy" asp-route-id="@player.Id" asp-action="ConfirmationTransfer" /></td>
                        </tr>
                    }
                </tbody>
            </table>

        </div>

    </body>
</form>